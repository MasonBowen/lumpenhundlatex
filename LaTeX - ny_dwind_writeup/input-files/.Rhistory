ylab(NULL) +
theme(strip.background = element_blank(),
strip.placement = "outside")+
theme_bw(base_size = 14, base_line_size = 2)
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime()+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Wind Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL) +
theme_bw(base_size = 14, base_line_size = 2)+
theme(strip.background = element_blank(),
strip.placement = "outside")+
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime()+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Wind Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL) +
theme_bw(base_size = 14, base_line_size = 2)+
theme(strip.background = element_blank(),
strip.placement = "outside")
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime()+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Wind Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL) +
theme_bw(base_size = 14)+
theme(strip.background = element_blank(),
strip.placement = "outside")
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime()+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Wind Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL) +
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside")
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime()+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL) +
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside")
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime()+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside")
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime()+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%a, %b %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP ($/MWHr)",
Generation = "Generation (kWh)",
`Energy Value` = "Energy Value ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
file.path(data_dir, "energy_calc_exp.png")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 20, height = 14, units = "cm", dpi = 330)
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 25, height = 20, units = "cm", dpi = 330)
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP\n($/MWHr)",
Generation = "Generation\n(kWh)",
`Energy Value` = "Energy\nValue ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 25, height = 20, units = "cm", dpi = 330)
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 30, height = 20, units = "cm", dpi = 330)
library(ggplot2)
library(data.table)
library(lubridate)
data_dir <- "C:/Users/tbowen/Documents/dGen/New York/Presentations and Visualizations/Visualizations"
gen_price_data <- fread(file.path(data_dir, "energy_calc_exp.csv"))
gen_price_data[, `Time Stamp` := as.POSIXct(`Time Stamp`, format = "%Y-%m-%d %H:%M:%S")]
gen_price_data[, `:=`(`Energy Value` = `LBMP ($/MWHr)`*(Generation/1000))]
gen_price_data <- melt.data.table(gen_price_data, id.vars = c("Time Stamp", "Name"),
variable.name = "Var", value.name = "Val")
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var))+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP\n($/MWh)",
Generation = "Generation\n(kWh)",
`Energy Value` = "Energy\nValue ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 30, height = 20, units = "cm", dpi = 330)
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var), size = 2)+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP\n($/MWh)",
Generation = "Generation\n(kWh)",
`Energy Value` = "Energy\nValue ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 30, height = 20, units = "cm", dpi = 330)
library(ggplot2)
library(data.table)
library(lubridate)
data_dir <- "C:/Users/tbowen/Documents/dGen/New York/Presentations and Visualizations/Visualizations"
gen_price_data <- fread(file.path(data_dir, "energy_calc_exp.csv"))
gen_price_data[, `Time Stamp` := as.POSIXct(`Time Stamp`, format = "%Y-%m-%d %H:%M:%S")]
gen_price_data[, `:=`(`Energy Value` = `LBMP ($/MWHr)`*(Generation/1000))]
gen_price_data <- melt.data.table(gen_price_data, id.vars = c("Time Stamp", "Name"),
variable.name = "Var", value.name = "Val")
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var), size = 1.5)+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP\n($/MWh)",
Generation = "Generation\n(kWh)",
`Energy Value` = "Energy\nValue ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 30, height = 20, units = "cm", dpi = 330)
library(ggplot2)
library(data.table)
library(lubridate)
data_dir <- "C:/Users/tbowen/Documents/dGen/New York/Presentations and Visualizations/Visualizations"
gen_price_data <- fread(file.path(data_dir, "energy_calc_exp.csv"))
gen_price_data[, `Time Stamp` := as.POSIXct(`Time Stamp`, format = "%Y-%m-%d %H:%M:%S")]
gen_price_data[, `:=`(`Energy Value` = `LBMP ($/MWHr)`*(Generation/1000))]
gen_price_data <- melt.data.table(gen_price_data, id.vars = c("Time Stamp", "Name"),
variable.name = "Var", value.name = "Val")
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var), size = 1.25)+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP\n($/MWh)",
Generation = "Generation\n(kWh)",
`Energy Value` = "Energy\nValue ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 30, height = 20, units = "cm", dpi = 330)
exp_energy_val
library(ggplot2)
library(data.table)
library(lubridate)
data_dir <- "C:/Users/tbowen/Documents/dGen/New York/Presentations and Visualizations/Visualizations"
gen_price_data <- fread(file.path(data_dir, "energy_calc_exp.csv"))
gen_price_data[, `Time Stamp` := as.POSIXct(`Time Stamp`, format = "%Y-%m-%d %H:%M:%S")]
gen_price_data[, `:=`(`Energy Value` = `LBMP ($/MWHr)`*(Generation/1000))]
gen_price_data <- melt.data.table(gen_price_data, id.vars = c("Time Stamp", "Name"),
variable.name = "Var", value.name = "Val")
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var), size = 1)+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP\n($/MWh)",
Generation = "Generation\n(kWh)",
`Energy Value` = "Energy\nValue ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 30, height = 20, units = "cm", dpi = 330)
library(ggplot2)
library(data.table)
library(lubridate)
data_dir <- "C:/Users/tbowen/Documents/dGen/New York/Presentations and Visualizations/Visualizations"
gen_price_data <- fread(file.path(data_dir, "energy_calc_exp.csv"))
gen_price_data[, `Time Stamp` := as.POSIXct(`Time Stamp`, format = "%Y-%m-%d %H:%M:%S")]
gen_price_data[, `:=`(`Energy Value` = `LBMP ($/MWHr)`*(Generation/1000))]
gen_price_data <- melt.data.table(gen_price_data, id.vars = c("Time Stamp", "Name"),
variable.name = "Var", value.name = "Val")
exp_energy_val <- ggplot(gen_price_data)+
geom_line(aes(x = `Time Stamp`, y = Val, col = Var), size = 1)+
# geom_line(aes(x = `Time Stamp`, y = `LBMP ($/MWHr)`, color = "red"))+
# geom_line(aes(x = `Time Stamp`, y = `Generation`/1000, color = "blue"))+
scale_x_datetime(date_breaks = "1 day", date_labels = "%A,\n%B %d")+
facet_wrap(~Var, ncol = 1, scales = "free_y")+
facet_wrap(~Var, scales = "free_y", ncol = 1,
strip.position = "left",
labeller = as_labeller(c(`LBMP ($/MWHr)` = "LBMP\n($/MWh)",
Generation = "Generation\n(kWh)",
`Energy Value` = "Energy\nValue ($)")))+
ylab(NULL)+
xlab(NULL)+
theme_bw(base_size = 20)+
theme(strip.background = element_blank(),
strip.placement = "outside", legend.position = "none")
ggsave(exp_energy_val, filename = file.path(data_dir, "energy_calc_exp.png"), device = "png", width = 30, height = 20, units = "cm", dpi = 330)
library(data.table)
dataset <- fread("C:/Users/tbowen/Desktop/Copy of 20190309_wind_curtailment.csv")
dataset
library(lubridate)
as.POSIXct(dataset$SCED_TIMESTAMP)
as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S")
hour(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"))
format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S")), format = "%Y-%m-%d %H")
format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")
split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H"))
lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")), function(x){mean(x$WIND_CURTAILMENT)})
library(tidy)
library(tidyverse)
library(tidyr)
x <- rbindlist(lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")), function(x){mean(x$WIND_CURTAILMENT)})
unnest(x)
tidyr::unnest(x)
x <- rbindlist(lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")), function(x){mean(x$WIND_CURTAILMENT)})
x <- lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")), function(x){mean(x$WIND_CURTAILMENT)})
rbindlist(x, idcol = TRUE, fill=TRUE, use.names = TRUE)
x <- lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")), function(x){mean(x$WIND_CURTAILMENT)})
rbindlist(x, idcol = TRUE, fill=TRUE, use.names = TRUE)
rbindlist(l = x, idcol = TRUE, fill=TRUE, use.names = TRUE)
x
rbindlist(l = x, fill=TRUE, use.names = TRUE)
x <- lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")), function(x){data.table(mean(x$WIND_CURTAILMENT))})
x
x <- lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"), format = "%Y-%m-%d %H")), function(x){data.table("Avg_Curt" = mean(x$WIND_CURTAILMENT))})
rbindlist(l = x, fill=TRUE, use.names = TRUE)
rbindlist(l = x, fill=TRUE, use.names = TRUE, idcol = TRUE)
rbindlist(l = x, fill=TRUE, use.names = TRUE, idcol = "DateTime")
x <- rbindlist(lapply(split(dataset, format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"),
format = "%Y-%m-%d %H")),
function(x){data.table("Avg_Curt" = mean(x$WIND_CURTAILMENT))}),
fill=TRUE, use.names = TRUE, idcol = "DateTime")
dataset <- split(dataset, f = dataset$SCED_TIMESTAMP)
dataset
dataset <- fread("C:/Users/tbowen/Desktop/Copy of 20190309_wind_curtailment.csv")
dataset$SCED_TIMESTAMP <- format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"),
format = "%Y-%m-%d %H")
dataset <- split(dataset, f = dataset$SCED_TIMESTAMP)
dataset
dataset
dataset <- lapply(dataset, function(x){data.table("Avg_Curt" = mean(x$WIND_CURTAILMENT))})
dataset
rbindlist(dataset, fill=TRUE, use.names = TRUE, idcol = "DateTime")
dataset <- rbindlist(dataset, fill=TRUE, use.names = TRUE, idcol = "DateTime")
dataset
dataset[, DateTime := format(DateTime, format = "%Y-%m-%d %H:%M:%S")]
dataset
dataset[, DateTime := as.POSIXct(format(DateTime, format = "%Y-%m-%d %H:%M:%S"))]
dataset
dataset <- fread("C:/Users/tbowen/Desktop/Copy of 20190309_wind_curtailment.csv")
dataset$SCED_TIMESTAMP <- format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"),
format = "%Y-%m-%d %H")
dataset <- split(dataset, f = dataset$SCED_TIMESTAMP)
dataset <- lapply(dataset, function(x){data.table("Avg_Curt" = mean(x$WIND_CURTAILMENT))})
dataset <- rbindlist(dataset, fill=TRUE, use.names = TRUE, idcol = "DateTime")
dataset[, DateTime := format(as.POSIXct(DateTime), format = "%Y-%m-%d %H:%M:%S"))]
dataset
dataset[, DateTime := format(as.POSIXct(DateTime), format = "%Y-%m-%d %H:%M:%S")]
dataset
dataset <- fread("C:/Users/tbowen/Desktop/Copy of 20190309_wind_curtailment.csv")
dataset$SCED_TIMESTAMP <- format(as.POSIXct(dataset$SCED_TIMESTAMP, format="%d%b%Y:%H:%M:%S"),
format = "%Y-%m-%d %H")
dataset <- split(dataset, f = dataset$SCED_TIMESTAMP)
dataset <- lapply(dataset, function(x){data.table("Avg_Curt" = mean(x$WIND_CURTAILMENT))})
dataset <- rbindlist(dataset, fill=TRUE, use.names = TRUE, idcol = "DateTime")
dataset
setwd("C:/Users/tbowen/Documents/dGen/New York/NYISO Data/dWind-NY/LaTeX - ny_dwind_writeup/input-files/")
# Plot power curves
library(data.table)
library(ggplot2)
curve_data <- fread("dwind_power_curves.csv")
curve_data
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id))
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))+
scale_color_discrete()
curve_data[, unique(turbine_id)]
curve_data[, turbine_id = factor(turbine_id, levels = as.character(curve_data[, unique(turbine_id)]))]
as.character(curve_data[, unique(turbine_id)]))
as.character(curve_data[, unique(turbine_id)])
factor(curve_data$turbine_id, levels = as.character(curve_data[, unique(turbine_id)]))
curve_data[, .(turbine_id = factor(turbine_id, levels = as.character(curve_data[, unique(turbine_id)]))), ]
curve_data[, turbine_id := factor(turbine_id, levels = as.character(curve_data[, unique(turbine_id)])), ]
curve_data
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))+
scale_color_discrete()
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))+
scale_color_discrete()+
theme_bw()
ggplot(curve_data[, turbine_id %in% as.character(1:4)])+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))+
scale_color_discrete()+
theme_bw()
ggplot(curve_data[turbine_id %in% as.character(1:4),,])+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))+
scale_color_discrete()+
theme_bw()
curve_data[turbine_id %in% c(1:4),,]
curve_data <- curve_data[turbine_id %in% c(1:4),,]
library(stringr)
curve_data[, turbine_id :=
str_replace_all(turbine_id,
setNames(nm = c(1:4), object = c("Small Residential",
"Small Commercial",
"Midsize", "Large")))]
curve_data
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))+
scale_color_discrete()+
theme_bw()
curve_data[, turbine_id :=
str_replace_all(turbine_id,
setNames(nm = c(1:4), object = c("Small-\nResidential",
"Small-\nCommercial",
"Midsize", "Large")))]
curve_data <- fread("dwind_power_curves.csv")
curve_data <- curve_data[turbine_id %in% c(1:4),,]
curve_data[, turbine_id :=
str_replace_all(turbine_id,
setNames(nm = c(1:4), object = c("Small-\nResidential",
"Small-\nCommercial",
"Midsize", "Large")))]
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_id, group = turbine_id))+
scale_color_discrete()+
theme_bw()
curve_data <- fread("dwind_power_curves.csv")
curve_data <- curve_data[turbine_id %in% c(1:4),,]
curve_data[, turbine_class :=
str_replace_all(turbine_id,
setNames(nm = c(1:4), object = c("Small-\nResidential",
"Small-\nCommercial",
"Midsize", "Large")))]
curve_data
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_class, group = turbine_class))+
scale_color_discrete()+
theme_bw()
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_class, group = turbine_class))+
scale_color_manual(values = setNames(nm = c("Small-\nResidential",
"Small-\nCommercial",
"Midsize", "Large"),
object = c("red", "blue", "green", "yellow")))+
theme_bw()
ggplot(curve_data)+
geom_line(aes(x = windspeed_ms,
y = kw_per_kw_peak,
color = turbine_class, group = turbine_class))+
scale_color_manual(values = setNames(nm = c("Small-\nResidential",
"Small-\nCommercial",
"Midsize", "Large"),
object = c("red", "blue", "green", "black")))+
theme_bw()
